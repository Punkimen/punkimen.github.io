"use strict";import{setStyle}from"./module/setStyle.js";import{initMap}from"./module/map.js";import{startEffectAnim}from"./module/GSAPAnim.js";import{random,setDelay}from"./module/helpers.js";import{closePopup,showPopup}from"./module/popup.js";import{adaptiveHeader,adaptiveTerra,toggleMenu}from"./module/adaptive.js";document.addEventListener("DOMContentLoaded",(()=>{(()=>{gsap.registerPlugin(ScrollTrigger,ScrollSmoother);const e=document.querySelectorAll("[data-delay]"),t=document.querySelectorAll("[data-duration]"),o=document.querySelectorAll("[data-to]"),r=document.querySelector("header"),a=document.querySelectorAll("[data-effect]"),d=document.querySelectorAll(".features-item"),l=document.querySelectorAll(".spaces-item__list"),c=document.querySelectorAll(".features-item__text"),s=ScrollSmoother.create({smooth:1.3,effects:!0,smoothTouch:.3}),i=document.querySelectorAll("[data-popup]"),n=document.querySelectorAll(".js-close");toggleMenu(),adaptiveTerra();for(let t of e)setStyle(t,t.dataset);for(let e of t)setStyle(e,e.dataset);let u=document.querySelector(".hero");o.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("data-to");s.scrollTo(o,!0)}))})),gsap.fromTo(u,{opacity:1,scale:1},{opacity:0,scale:.7,scrollTrigger:{trigger:u,scrub:!0,start:"top top",end:"+=60%",pin:!0,pinSpacing:!1,onEnterBack(){window.innerWidth>=767&&r.classList.remove("hide-menu")},onLeave(){window.innerWidth>=767&&r.classList.add("hide-menu")}}}),l.forEach((e=>{e.querySelectorAll(".spaces-item__elem").forEach(((e,t)=>{setDelay(e,.1*t)}))})),d.forEach((e=>{e.dataset.delay=random(0,.3).toFixed(2),e.dataset.duration=random(1,1.7).toFixed(2)})),c.forEach((e=>{e.dataset.delay=random(0,.3).toFixed(2),e.dataset.duration=random(1,1.5).toFixed(2)})),a.forEach((e=>{startEffectAnim(e)})),gsap.fromTo(".concep__slider",{x:"10%"},{x:"-40%",scrollTrigger:{trigger:".concep__slider",scrub:!0,start:"top bottom",end:"+=150%"}}),i.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-popup");showPopup(t)}))})),n.forEach((e=>{e.addEventListener("click",(()=>{closePopup()}))})),initMap("map")})(),adaptiveHeader(),window.addEventListener("resize",(()=>{adaptiveHeader(),adaptiveTerra()}))})),document.addEventListener("click",(e=>{e.target.classList.contains("popups__inner")&&closePopup()}));