"use strict";import{sliderInit}from"./module/sliderInit.min.js";import{splitText}from"./module/splitText.min.js";import{setHeader}from"./module/setHeader.min.js";import{sectionHeightInit}from"./module/sectionHeightInit.min.js";import{drawSvgLine,leftToRight,horizontalTransform,triggerAnimate,readText,scalingFoo,svgDraw,verticalTransform}from"./module/GSAPAnim.js";import{formAdaptive,cardsAdaptive,journeyCardsAdaptive}from"./module/adaptiveResize.min.js";import{addClass,toggleClass,removeClass}from"./module/handleClassnames.min.js";let windowWidth=window.innerWidth;const logo=document.querySelector(".header__logo"),firstTextLine=document.querySelectorAll(".text-line.first-load"),firstOpacityElems=document.querySelectorAll('[data-effect="opacity"].first-load'),firstFadeOpacityElems=document.querySelectorAll('[data-effect="fade-down"].first-load'),heroWrapper=document.querySelector(".hero"),textLine=document.querySelectorAll(".text-line:not(.first-load)"),opacityElems=document.querySelectorAll('[data-effect="opacity"]:not(.first-load)'),fadeOpacityElems=document.querySelectorAll('[data-effect="fade-down"]:not(.first-load)'),readedText=document.querySelectorAll(".readed-text"),maskSvg=document.querySelector(".mask"),markers=document.querySelectorAll(".each-point__mark"),cardsAura=document.querySelector(".card_1 .card__front-aura img"),cardsNft=document.querySelector(".card_3 .card__front-img"),cardsPhone=document.querySelector(".card_2 .card__front-img"),cardsMap=document.querySelector(".card__front-img_bg"),OMICircles=document.querySelector(".omies__circles"),OMICircle1=document.querySelector(".omies__circle_1"),OMICircle3=document.querySelector(".omies__circle_3"),pinEl=document.querySelector(".description-reality__content"),btnGooglePlay=document.querySelector(".platform__btn_google"),btnApplePlay=document.querySelector(".platform__btn_apple"),missionLineHorizontal=document.querySelector(".mission__line"),svgLine=document.querySelector(".mission__line_diagonally line"),phoneScreens=document.querySelector(".reality__screens"),phone_1=document.querySelector(".reality__screen_1"),phone_3=document.querySelector(".reality__screen_3"),quests=document.querySelectorAll(".question-item"),lines=document.querySelectorAll(".line"),journeyCardPhone=document.querySelector(".journey-card__phone"),journeyCardOmi=document.querySelector(".journey-card_2 .journey-card__omi"),journeyCardMap=document.querySelector(".journey-card_4 .card__front-img_bg"),securityBlock=document.querySelector(".security"),pvpPose1=document.querySelector(".pvp-pose_1"),pvpPose2=document.querySelector(".pvp-pose_2"),heroPose=document.querySelector(".hero__pose"),video1=document.querySelector("#video_phone"),openElems=document.querySelectorAll("[data-open]"),closeElems=document.querySelectorAll(".modal__close"),burger=document.querySelector(".burger"),mobMenu=document.querySelector(".mob-menu");sectionHeightInit(windowWidth),gsap.registerPlugin(ScrollTrigger),firstTextLine.forEach((e=>{triggerAnimate(e,e.parentElement)})),firstOpacityElems.forEach((e=>{triggerAnimate(e)})),firstFadeOpacityElems.forEach((e=>{triggerAnimate(e)}));const showEl=(e,t)=>{t?(e.classList.add("show"),e.classList.remove("hide")):(e.classList.add("hide"),e.classList.remove("show"))},sliderPrety=e=>{let t="7vw";windowWidth>992?t="8.8vw":windowWidth<768&&(t=0);const o=e.slides,r=o[o.length-1];e.activeIndex===o.length-1?(r.style.right=t,r.style.transotionDuration="600ms"):(r.style.right="0vw",r.style.transotionDuration="600ms")},scalingBtnPositive=e=>{e.style.width="120%",e.style.borderRadius="15.10vw"},scalingBtnNegative=e=>{e.style.width="80%"},setNormalSize=e=>{e.style.width="100%"},leveSizeBtns=()=>{setNormalSize(btnApplePlay),setNormalSize(btnGooglePlay)},hoverGoogleBtn=()=>{scalingBtnPositive(btnGooglePlay),scalingBtnNegative(btnApplePlay)},hoverAppleBtn=()=>{scalingBtnPositive(btnApplePlay),scalingBtnNegative(btnGooglePlay)};verticalTransform(heroPose,heroPose,"-15%","0%",!0,"bottom center+=25%","bottom top");const descrReality=e=>{e>768?gsap.to(".description-reality",{ease:"none",scrollTrigger:{trigger:".description-reality",pinned:!0,start:"top top",end:"bottom bottom",onToggle:e=>showEl(pinEl,e.isActive)}}):gsap.to(".description-reality",{ease:"none",scrollTrigger:{trigger:".description-reality",pinned:!0,start:"top top",end:"bottom+=25% bottom",onToggle:e=>showEl(pinEl,e.isActive)}})},initPage=()=>{gsap.registerPlugin(ScrollTrigger),ScrollTrigger.refresh(),windowWidth>768&&gsap.to(securityBlock,{ease:"SineInOut",scrollTrigger:{trigger:".tokenomics__inner",start:"center+=25% center",end:"+=100%",scrub:!0,pin:!0}}),logo.addEventListener("click",(e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),descrReality(windowWidth),verticalTransform(cardsPhone,cardsPhone,"-5%","5%",!0),verticalTransform(cardsMap,cardsMap,"-5%","5%",!0),verticalTransform(journeyCardPhone,journeyCardPhone,"5%","-10%",!0),verticalTransform(journeyCardOmi,journeyCardOmi,"-5%","5%",!0),verticalTransform(journeyCardMap,journeyCardMap,"-5%","5%",!0),verticalTransform(pvpPose1,pvpPose1,"5%","-5%",!0),verticalTransform(pvpPose2,pvpPose2,"-5%","5%",!0),horizontalTransform(OMICircle1,OMICircles,"100%","33%"),horizontalTransform(OMICircle3,OMICircles,"-100%","-43%"),horizontalTransform(cardsNft,cardsNft,"-3%","3%"),horizontalTransform(phone_1,phoneScreens,"17.5vw","0",!0,null,"top bottom","top+=25% center"),horizontalTransform(phone_3,phoneScreens,"-17.5vw","0",!0,null,"top bottom","top+=25% center"),scalingFoo(cardsAura,cardsAura,1,2,"top bottom+=25%","center top",!0),windowWidth>568&&scalingFoo(".pvp__title",".pvp__descr",1.7,1,"top-=25% bottom","50% center",!0),leftToRight(missionLineHorizontal,svgLine),svgDraw(svgLine,svgLine,null,"400%"),maskSvg&&drawSvgLine(maskSvg,".each-point__route",markers),textLine.forEach((e=>{triggerAnimate(e,e.parentElement)})),readedText.forEach((e=>{splitText(e);const t=e.querySelectorAll(".word");readText(t,e)})),opacityElems.forEach((e=>{triggerAnimate(e)})),fadeOpacityElems.forEach((e=>{triggerAnimate(e)})),lines.forEach((e=>{leftToRight(e)})),quests.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();t.target.closest(".question-item__header")&&e.classList.toggle("open")}))})),formAdaptive(windowWidth),Marquee3k&&Marquee3k.init(),windowWidth>768&&(btnApplePlay.addEventListener("mouseenter",hoverAppleBtn),btnGooglePlay.addEventListener("mouseenter",hoverGoogleBtn),btnApplePlay.addEventListener("mouseleave",leveSizeBtns),btnGooglePlay.addEventListener("mouseleave",leveSizeBtns)),video1&&video1?.currentTime>0&&video1?.play(),burger.addEventListener("click",(e=>{e.preventDefault(),toggleClass(burger,"active"),toggleClass(mobMenu,"show"),toggleClass(document.body,"overflow")}));{let e="0.52vw";const t=()=>{e=windowWidth<=568?"11.52vw":"0.52vw"};t();const o={slidesPerView:"auto",spaceBetween:20,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:[`calc(100% + ${e})`,0,0]}},breakpoints:{568:{slidesPerView:"auto",spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},r=sliderInit(".adventure__phone"),n=sliderInit(".cards-slider__slider",o);n.controller.control=r,n.on("slideChange",(function(){const e=document.querySelector(".adventure__phone-hand");sliderPrety(n),n.slides.length-1===n.activeIndex?e.classList.add("show"):e.classList.remove("show")})),window.addEventListener("resize",(()=>{t()}))}openElems.forEach((e=>{e.addEventListener("click",(t=>{const o=document.querySelector(e.dataset.open);addClass(o,"show"),addClass(document.body,"overflow")}))})),closeElems.forEach((e=>{e.addEventListener("click",(t=>{const o=e.parentElement;removeClass(o,"show"),removeClass(document.body,"overflow")}))})),cardsAdaptive(windowWidth),journeyCardsAdaptive(windowWidth)};document.addEventListener("DOMContentLoaded",(()=>{initPage()})),window.addEventListener("resize",(()=>{descrReality(windowWidth),windowWidth=window.innerWidth,formAdaptive(windowWidth),sectionHeightInit(windowWidth),cardsAdaptive(windowWidth),journeyCardsAdaptive(windowWidth)}));let lastScrollTop=0;window.addEventListener("scroll",(function(){let e=window.pageYOffset||document.documentElement.scrollTop;e>lastScrollTop&&lastScrollTop>window.innerHeight/8?setHeader(!0):0===e&&setHeader(!1),lastScrollTop=e<=0?0:e}),!1);