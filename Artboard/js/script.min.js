"use strict";import{setStyle}from"./module/setStyle.js";import{initMap}from"./module/map.js";import{startEffectAnim}from"./module/GSAPAnim.js";import{random,setDelay}from"./module/helpers.js";import{closePopup,showPopup}from"./module/popup.js";import{adaptiveHeader,adaptiveTerra,toggleMenu}from"./module/adaptive.js";import{sliderInit}from"./module/sliderInit.js";import{validate}from"./module/validate.js";document.addEventListener("DOMContentLoaded",(()=>{(()=>{gsap.registerPlugin(ScrollTrigger,ScrollSmoother);const e=document.querySelectorAll("[data-delay]"),t=document.querySelectorAll("[data-duration]"),r=document.querySelectorAll("[data-to]"),o=document.querySelector("header"),a=document.querySelectorAll("[data-effect]"),d=document.querySelectorAll(".features-item"),l=document.querySelectorAll(".spaces-item__list"),i=document.querySelectorAll(".features-item__text"),s=ScrollSmoother.create({smooth:1.3,effects:!0,smoothTouch:.3}),c=document.querySelectorAll("[data-popup]"),n=document.querySelectorAll(".js-close");toggleMenu(),adaptiveTerra();for(let t of e)setStyle(t,t.dataset);for(let e of t)setStyle(e,e.dataset);let u=document.querySelector(".hero");r.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const r=e.getAttribute("data-to");s.scrollTo(r,!0)}))}));const m=document.querySelectorAll(".slider-btn"),p=sliderInit(document.querySelector("#banner_slider")),_=sliderInit(document.querySelector("#slider_1")),f=sliderInit(document.querySelector("#slider_2")),v=sliderInit(document.querySelector("#slider_3")),y=sliderInit(document.querySelector("#slider_4"));m.forEach((e=>{e.addEventListener("click",(t=>{switch(e.getAttribute("id")){case"banner_next":p.slideNext();break;case"banner_prev":p.slidePrev();break;case"slide_1_next":_.slideNext();break;case"slide_1_prev":_.slidePrev();break;case"slide_2_next":f.slideNext();break;case"slide_2_prev":f.slidePrev();break;case"slide_3_next":v.slideNext();break;case"slide_3_prev":v.slidePrev();break;case"slide_4_next":y.slideNext();break;case"slide_4_prev":y.slidePrev()}}))})),gsap.fromTo(u,{opacity:1,scale:1},{opacity:0,scale:.7,scrollTrigger:{trigger:u,scrub:!0,start:"top top",end:"+=60%",pin:!0,pinSpacing:!1,onEnterBack(){window.innerWidth>=767&&o.classList.remove("hide-menu")},onLeave(){window.innerWidth>=767&&o.classList.add("hide-menu")}}}),l.forEach((e=>{e.querySelectorAll(".spaces-item__elem").forEach(((e,t)=>{setDelay(e,.1*t)}))})),d.forEach((e=>{e.dataset.delay=random(0,.3).toFixed(2),e.dataset.duration=random(1,1.7).toFixed(2)})),i.forEach((e=>{e.dataset.delay=random(0,.3).toFixed(2),e.dataset.duration=random(1,1.5).toFixed(2)})),a.forEach((e=>{startEffectAnim(e)})),gsap.fromTo(".concep__slider",{x:"10%"},{x:"-40%",scrollTrigger:{trigger:".concep__slider",scrub:!0,start:"top bottom",end:"+=150%"}}),c.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-popup");showPopup(t)}))})),n.forEach((e=>{e.addEventListener("click",(()=>{closePopup()}))})),initMap("map"),validate()})(),adaptiveHeader(),window.addEventListener("resize",(()=>{adaptiveHeader(),adaptiveTerra()}))})),document.addEventListener("click",(e=>{e.target.classList.contains("popups__inner")&&closePopup()}));