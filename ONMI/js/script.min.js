"use strict";import{sliderInit}from"./module/sliderInit.min.js";import{splitText}from"./module/splitText.min.js";import{setStyle}from"./module/setStyle.min.js";import{sectionHeightInit}from"./module/sectionHeightInit.min.js";import{animTextLine,drawSvgLine,fadeDown,fadeIn,fadeUp,hideElem,horizontalTransform,leftToRight,lineShow,opacityIn,readText,rightToLeft,scalingFoo,showElem,svgDraw,verticalTransform}from"./module/GSAPAnim.js";import{circlesAdaptive,stepAdaptive,cardsAdaptive,journeyCardsAdaptive}from"./module/adaptiveResize.min.js";import{getPopulation}from"./module/getPopulation.min.js";document.addEventListener("DOMContentLoaded",(()=>{(()=>{document.querySelector("#population");const e=document.querySelector("#video_phone"),t=document.querySelector("#video_trap"),r=document.querySelectorAll(".text-line"),o=document.querySelectorAll(".readed-text"),n=(document.querySelector(".each-point"),document.querySelector(".mask")),i=document.querySelectorAll(".each-point__mark"),a=document.querySelectorAll('[data-effect="line"]'),l=document.querySelectorAll('[data-effect="opacity"]'),d=document.querySelector(".card_1 .card__front-aura"),c=document.querySelector(".card_3 .card__front-img"),s=document.querySelector(".card_2 .card__front-img"),u=document.querySelector(".card__front-img_bg"),m=document.querySelector(".omies__circles"),p=document.querySelector(".omies__circle_1"),v=document.querySelector(".omies__circle_3"),f=document.querySelectorAll('[data-effect="fade-down"]'),_=document.querySelectorAll('[data-effect="fade-in"]'),g=document.querySelector(".description-reality__content"),h=document.querySelector(".platform__btn_google"),y=document.querySelector(".platform__btn_apple"),w=document.querySelector(".mission__line"),S=document.querySelector(".mission__line_diagonally line"),q=document.querySelector(".reality__screens"),T=document.querySelector(".reality__screen_1"),E=document.querySelector(".reality__screen_3"),A=document.querySelectorAll(".question-item"),L=document.querySelectorAll('[data-effect="fade-up"]'),b=document.querySelectorAll(".line"),x=document.querySelector("#video-scroll"),I=document.querySelector(".journey-card__phone"),j=document.querySelector(".journey-card_2 .journey-card__omi"),z=document.querySelector(".journey-card_4 .card__front-img_bg"),C=document.querySelector(".security"),P=document.querySelector(".pvp-pose_1"),W=document.querySelector(".pvp-pose_2");if(gsap.registerPlugin(ScrollTrigger),verticalTransform(s,s,"-5%","5%",!0),verticalTransform(u,u,"-5%","5%",!0),verticalTransform(I,I,"5%","-10%",!0),verticalTransform(j,j,"-5%","5%",!0),verticalTransform(z,z,"-5%","5%",!0),verticalTransform(C,C,"-10%","5%",!0),verticalTransform(P,P,"5%","-5%",!0),verticalTransform(W,W,"-5%","5%",!0),x.duration>0){gsap.timeline({defaults:{duration:1},scrollTrigger:{trigger:x,start:"top bottom",end:"center center",scrub:!0,onUpdate:e=>{const t=e.progress.toFixed(2),r=x.duration;x.currentTime=(r*t).toFixed(2)}}})}ScrollTrigger.create({trigger:".description-reality",pinned:!0,start:"top top",end:"bottom bottom",onToggle:e=>{return t=g,void(e.isActive?(t.classList.add("show"),t.classList.remove("hide")):(t.classList.add("hide"),t.classList.remove("show")));var t}});const k=e=>{e.style.width="120%",e.style.borderRadius="15.10vw"},D=e=>{e.style.width="80%"},M=e=>{e.style.width="100%"},F=()=>{M(y),M(h)};{let e="0.52vw";const t=()=>{const t=window.innerWidth;e=t<=568?"11.52vw":"0.52vw"};t();const r={slidesPerView:"auto",spaceBetween:20,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:[`calc(100% + ${e})`,0,0]}},breakpoints:{568:{slidesPerView:"auto",spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},o=sliderInit(".adventure__phone"),n=sliderInit(".cards-slider__slider",r);n.controller.control=o;const i=()=>{const e=window.innerWidth;let t="7vw";e>992?t="8.8vw":e<768&&(t=0);const r=n.slides,o=r[r.length-1];n.activeIndex===r.length-1?(o.style.right=t,o.style.transotionDuration="600ms"):(o.style.right="0vw",o.style.transotionDuration="600ms")};n.on("slideChange",(function(){const e=document.querySelector(".adventure__phone-hand");i(),n.slides.length-1===n.activeIndex?e.classList.add("show"):e.classList.remove("show")}));const a=sliderInit(".level-slider",{centeredSlides:!0,slidesPerView:"auto",loopPreventsSliding:!0,speed:800,loop:!1,navigation:{nextEl:".level-slider__arrow_next",prevEl:".level-slider__arrow_prev"},pagination:{el:".swiper-pagination"},breakpoints:{568:{loop:!0}}});window.addEventListener("resize",(()=>{t(),a.update()}))}r.forEach((e=>{setStyle(e,e.dataset),animTextLine(e,e.parentElement)})),o.forEach((e=>{splitText(e);const t=e.querySelectorAll(".word");readText(t,e)})),n&&drawSvgLine(n,".each-point__route",i),horizontalTransform(p,m,"100%","33%"),horizontalTransform(v,m,"-100%","-43%"),scalingFoo(d,d,1,1.4,"top bottom+=25%","center top",!0),horizontalTransform(c,c,"-3%","3%"),a.forEach((e=>{lineShow(e)})),l.forEach((e=>{opacityIn(e)})),f.forEach((e=>{fadeDown(e)})),_.forEach((e=>{fadeIn(e)})),svgDraw(S,S,"400%"),leftToRight(w,".mission"),horizontalTransform(T,q,"17.5vw","0",!0,null,"top bottom","top+=25% center"),horizontalTransform(E,q,"-17.5vw","0",!0,null,"top bottom","top+=25% center"),b.forEach((e=>{leftToRight(e)})),scalingFoo(".roadmap__title",".roadmap",1.7,1,"top bottom","15% center",!0),scalingFoo(".pvp__title",".pvp__descr",1.7,1,"top bottom","50% center",!0),A.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();t.target.closest(".question-item__header")&&e.classList.toggle("open")}))})),L.forEach((e=>{fadeUp(e)})),y.addEventListener("mouseenter",(()=>{k(y),D(h)})),h.addEventListener("mouseenter",(()=>{k(h),D(y)})),y.addEventListener("mouseleave",F),h.addEventListener("mouseleave",F),e.currentTime>0&&e?.play(),t.currentTime>0&&t?.play(),Marquee3k&&Marquee3k.init(),stepAdaptive(),circlesAdaptive(),sectionHeightInit(),cardsAdaptive(),journeyCardsAdaptive()})();const e=new SineWaves({el:document.getElementById("waves"),speed:5,width:function(){return window.innerWidth},height:function(){return window.innerHeight},wavesWidth:"95%",ease:"SineInOut",waves:[{timeModifier:1,lineWidth:3,amplitude:150,wavelength:200,segmentLength:20},{timeModifier:1,lineWidth:2,amplitude:150,wavelength:100},{timeModifier:1,lineWidth:1,amplitude:-150,wavelength:50,segmentLength:10},{timeModifier:1,lineWidth:.5,amplitude:-100,wavelength:100,segmentLength:10}],initialize:function(){},resizeEvent:function(){let e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(0, 0, 0, 0)");let t=-1,r=this.waves.length;for(;++t<r;)this.waves[t].strokeStyle=e;t=void 0,r=void 0,e=void 0}});window.addEventListener("resize",(()=>{stepAdaptive(),circlesAdaptive(),cardsAdaptive(),e.update(),journeyCardsAdaptive()}))}));