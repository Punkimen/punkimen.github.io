"use strict";import{sliderInit}from"./module/sliderInit.min.js";import{splitText}from"./module/splitText.min.js";import{setStyle}from"./module/setStyle.min.js";import{sectionHeightInit}from"./module/sectionHeightInit.min.js";import{animTextLine,drawSvgLine,fadeDown,fadeIn,fadeUp,hideElem,horizontalTransform,leftToRight,lineShow,opacityIn,readText,rightToLeft,scalingFoo,showElem,svgDraw,verticalTransform}from"./module/GSAPAnim.js";import{circlesAdaptive,stepAdaptive}from"./module/adaptiveResize.min.js";import{getPopulation}from"./module/getPopulation.min.js";document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.querySelector("#population"),t=document.querySelector("#video_phone"),r=document.querySelector("#video_trap"),o=document.querySelectorAll(".text-line"),n=document.querySelectorAll(".readed-text"),i=(document.querySelector(".each-point"),document.querySelector(".mask")),a=document.querySelectorAll(".each-point__mark"),l=document.querySelectorAll('[data-effect="line"]'),c=document.querySelectorAll('[data-effect="opacity"]'),s=document.querySelector(".card_1 .card__front-aura"),d=document.querySelector(".card_3 .card__front-img"),u=document.querySelector(".card_2 .card__front-img"),m=document.querySelector(".card__front-img_bg"),p=document.querySelector(".omies__circles"),v=document.querySelector(".omies__circle_1"),h=document.querySelector(".omies__circle_3"),_=document.querySelectorAll('[data-effect="fade-down"]'),f=document.querySelectorAll('[data-effect="fade-in"]'),y=document.querySelector(".description-reality__content"),g=document.querySelector(".platform__btn_google"),w=document.querySelector(".platform__btn_apple"),S=document.querySelector(".mission__line"),q=document.querySelector(".mission__line_diagonally line"),E=document.querySelector(".reality__screens"),T=document.querySelector(".reality__screen_1"),L=document.querySelector(".reality__screen_3"),b=document.querySelectorAll(".question-item"),A=document.querySelectorAll('[data-effect="fade-up"]'),x=document.querySelectorAll(".line"),I=document.querySelector("#video-scroll"),j=document.querySelector(".journey-card__phone"),z=document.querySelector(".journey-card_2 .journey-card__omi"),P=document.querySelector(".journey-card_4 .card__front-img_bg"),D=document.querySelector(".security"),W=document.querySelector(".pvp-pose_1"),k=document.querySelector(".pvp-pose_2");if(gsap.registerPlugin(ScrollTrigger),verticalTransform(u,u,"-5%","5%",!0),verticalTransform(m,m,"-5%","5%",!0),verticalTransform(j,j,"5%","-10%",!0),verticalTransform(z,z,"-5%","5%",!0),verticalTransform(P,P,"-5%","5%",!0),verticalTransform(D,D,"-10%","5%",!0),verticalTransform(W,W,"5%","-5%",!0),verticalTransform(k,k,"-5%","5%",!0),I.duration>0){gsap.timeline({defaults:{duration:1},scrollTrigger:{trigger:I,start:"top bottom",end:"center center",scrub:!0,onUpdate:e=>{const t=e.progress.toFixed(2),r=I.duration;I.currentTime=(r*t).toFixed(2)}}})}ScrollTrigger.create({trigger:".description-reality",pinned:!0,start:"top top",end:"bottom bottom",onToggle:e=>{return t=y,void(e.isActive?(t.classList.add("show"),t.classList.remove("hide")):(t.classList.add("hide"),t.classList.remove("show")));var t}});const C=e=>{e.style.width="120%",e.style.borderRadius="15.10vw"},F=e=>{e.style.width="80%"},M=e=>{e.style.width="100%"},R=()=>{M(w),M(g)};{let e="0.52vw";const t=()=>{const t=window.innerWidth;e=t<=568?"11.52vw":"0.52vw"};window.addEventListener("resize",(()=>{t()})),t();const r={slidesPerView:"auto",spaceBetween:20,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:[`calc(100% + ${e})`,0,0]}},breakpoints:{568:{slidesPerView:"auto",spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},o=sliderInit(".adventure__phone"),n=sliderInit(".cards-slider__slider",r);n.controller.control=o;const i=()=>{const e=window.innerWidth;let t="7vw";e>992?t="8.8vw":e<768&&(t=0);const r=n.slides,o=r[r.length-1];n.activeIndex===r.length-1?(o.style.right=t,o.style.transotionDuration="600ms"):(o.style.right="0vw",o.style.transotionDuration="600ms")};n.on("slideChange",(function(){const e=document.querySelector(".adventure__phone-hand");i(),n.slides.length-1===n.activeIndex?e.classList.add("show"):e.classList.remove("show")}));sliderInit(".level-slider",{centeredSlides:!0,slidesPerView:"auto",loopPreventsSliding:!0,speed:800,loop:!0,navigation:{nextEl:".level-slider__arrow_next",prevEl:".level-slider__arrow_prev"}})}o.forEach((e=>{setStyle(e,e.dataset),animTextLine(e,e.parentElement)})),n.forEach((e=>{splitText(e);const t=e.querySelectorAll(".word");readText(t,e)})),drawSvgLine(i,".each-point__route",a),horizontalTransform(v,p,"100%","33%"),horizontalTransform(h,p,"-100%","-43%"),scalingFoo(s,s,1,1.4,"top bottom+=25%","center top",!0),horizontalTransform(d,d,"-3%","3%"),l.forEach((e=>{lineShow(e)})),c.forEach((e=>{opacityIn(e)})),_.forEach((e=>{fadeDown(e)})),f.forEach((e=>{fadeIn(e)})),svgDraw(q,q,"400%"),leftToRight(S,".mission"),horizontalTransform(T,E,"17.5vw","0",!0,null,"top bottom","top+=25% center"),horizontalTransform(L,E,"-17.5vw","0",!0,null,"top bottom","top+=25% center"),x.forEach((e=>{leftToRight(e)})),scalingFoo(".roadmap__title",".roadmap",1.7,1,"top bottom","15% center",!0),scalingFoo(".pvp__title",".pvp__descr",1.7,1,"top bottom","50% center",!0);{const e=document.querySelectorAll(".vacancy__tabs-tab"),t=document.querySelectorAll(".vacancy__tabs-body"),r=()=>{e.forEach((e=>e.classList.remove("current")))},o=()=>{t.forEach((e=>e.classList.remove("show")))};e.forEach(((e,n)=>{e.addEventListener("click",(i=>{if(i.preventDefault(),e.closest(".current"))return;r(),e.classList.add("current");const a=document.querySelector(".vacancy__tabs-body.show"),l=t[n];hideElem(a),o(),l.classList.add("show"),showElem(l)}))})),gsap.utils.toArray(".vacancy__header-line").forEach((e=>{rightToLeft(e)}));const n=document.querySelector(".vacancy__header-line");leftToRight(n)}b.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();t.target.closest(".question-item__header")&&e.classList.toggle("open")}))})),A.forEach((e=>{fadeUp(e)})),w.addEventListener("mouseenter",(()=>{C(w),F(g)})),g.addEventListener("mouseenter",(()=>{C(g),F(w)})),w.addEventListener("mouseleave",R),g.addEventListener("mouseleave",R),(async()=>{const t=JSON.parse(await getPopulation());e.textContent=t.readable_format||"8,323,444,222"})(),t?.play(),r?.play(),Marquee3k.init(),stepAdaptive(),circlesAdaptive(),sectionHeightInit()})();const e=new SineWaves({el:document.getElementById("waves"),speed:5,width:function(){return window.innerWidth},height:function(){return window.innerHeight},wavesWidth:"95%",ease:"SineInOut",waves:[{timeModifier:1,lineWidth:3,amplitude:150,wavelength:200,segmentLength:20},{timeModifier:1,lineWidth:2,amplitude:150,wavelength:100},{timeModifier:1,lineWidth:1,amplitude:-150,wavelength:50,segmentLength:10},{timeModifier:1,lineWidth:.5,amplitude:-100,wavelength:100,segmentLength:10}],initialize:function(){},resizeEvent:function(){var e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(0, 0, 0, 0)");for(var t=-1,r=this.waves.length;++t<r;)this.waves[t].strokeStyle=e;t=void 0,r=void 0,e=void 0}});window.addEventListener("resize",(()=>{stepAdaptive(),circlesAdaptive(),e.update()}))}));