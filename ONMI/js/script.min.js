"use strict";import{sliderInit}from"./module/sliderInit.js";import{splitText}from"./module/splitText.js";import{setStyle}from"./module/setStyle.js";import{sectionHeightInit}from"./module/sectionHeightInit.js";import{animTextLine,fadeDown,fadeIn,fadeUp,flipAnim,hideElem,horizontalTransform,leftToRight,lineShow,opacityIn,readText,rightToLeft,scaling,showElem,transformTop}from"./module/GSAPAnim.js";import{random}from"./module/random.js";import{circlesAdaptive,stepAdaptive}from"./module/adaptiveResize.js";import{getPopulation}from"./module/getPopulation.js";document.addEventListener("DOMContentLoaded",(()=>{(()=>{!async function(){const e=document.querySelector("#population"),t=JSON.parse(await getPopulation());e.textContent=t.readable_format||"8,323,444,222";const o=document.querySelector("#video_phone"),r=document.querySelector("#video_trap");await(o?.play()),await(r?.play())}();document.querySelectorAll(".readed-text").forEach((e=>{splitText(e);const t=e.querySelectorAll(".word");readText(t,e)}));{let e="0.52vw";const t=()=>{const t=window.innerWidth;e=t<=568?"11.52vw":"0.52vw"};window.addEventListener("resize",(()=>{t()})),t();const o={slidesPerView:"auto",spaceBetween:20,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:[`calc(100% + ${e})`,0,0]}},breakpoints:{568:{slidesPerView:"auto",spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},r=sliderInit(".adventure__phone"),a=sliderInit(".cards-slider__slider",o);a.controller.control=r;const i=()=>{const e=window.innerWidth;let t="7vw";e>992?t="8.8vw":e<768&&(t=0);const o=a.slides,r=o[o.length-1];a.activeIndex===o.length-1?(r.style.right=t,r.style.transotionDuration="600ms"):(r.style.right="0vw",r.style.transotionDuration="600ms")};a.on("slideChange",(function(){const e=document.querySelector(".adventure__phone-hand");i(),a.slides.length-1===a.activeIndex?e.classList.add("show"):e.classList.remove("show")}))}document.querySelectorAll(".text-line").forEach((e=>{setStyle(e,e.dataset),animTextLine(e,e.parentElement)})),sectionHeightInit(),gsap.registerPlugin(ScrollTrigger,ScrollSmoother);document.querySelector(".each-point");const e=document.querySelector(".mask"),t=document.querySelectorAll(".each-point__mark");gsap.fromTo(e,{strokeDashoffset:"200vw"},{strokeDashoffset:0,scrollTrigger:{trigger:e,start:"top bottom",end:"170%",scrub:!0,onUpdate:e=>{(e=>{e>0&&e<1&&(e>=0?(t[0].classList.add("show"),t[2].classList.add("show"),t[3].classList.add("show")):(t[0].classList.remove("show"),t[2].classList.remove("show"),t[3].classList.remove("show")),e>=.25?t[3].classList.add("show"):t[3].classList.remove("show"),e>=.3?t[4].classList.add("show"):t[4].classList.remove("show"),e>=.35?t[5].classList.add("show"):t[5].classList.remove("show"),e>=.44?t[6].classList.add("show"):t[6].classList.remove("show"),e>=.5?t[7].classList.add("show"):t[7].classList.remove("show"),e>=.63?t[8].classList.add("show"):t[8].classList.remove("show"))})(e.progress.toFixed(2))}}}),1!==ScrollTrigger.isTouch&&ScrollSmoother.create({smooth:1.3,effects:!0,smoothTouch:.3});const o=document.querySelectorAll('[data-effect="line"]'),r=document.querySelectorAll('[data-effect="opacity"]'),a=document.querySelector(".card_1 .card__front-aura"),i=document.querySelector(".card_3 .card__front-img"),s=document.querySelector(".omies__circles"),n=document.querySelector(".omies__circle_1"),l=document.querySelector(".omies__circle_3");horizontalTransform(n,s,"33%"),horizontalTransform(l,s,"-43%"),gsap.fromTo(a,{scale:1},{scale:1.4,duration:1,ease:"power2.inOut",scrollTrigger:{trigger:a,start:"top bottom+=25%",end:"center top",scrub:!0}}),gsap.fromTo(i,{x:"-3%"},{x:"3%",duration:1,ease:"power2.inOut",scrollTrigger:{trigger:i,start:"top bottom+=10%",end:"top top-=25%",scrub:!0}}),o.forEach((e=>{lineShow(e)})),r.forEach((e=>{opacityIn(e)}));const c=document.querySelectorAll(".find-map__point .map-point__circle"),d=document.querySelectorAll(".find-map__point .map-point__text");c.forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,o=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0},{opacity:1,delay:t,duration:o,ease:"power1.inOut",scrollTrigger:{trigger:".find-map",start:"top center"}})})),d.forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,o=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0,y:"80%"},{y:0,opacity:1,delay:t,duration:o,ease:"power1.inOut",scrollTrigger:{trigger:".find-map",start:"top center"}})}));document.querySelectorAll(".descover__map .map-point__circle").forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,o=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0},{opacity:1,delay:t,duration:o,ease:"power1.inOut",scrollTrigger:{trigger:".descover__map",start:"top top"}})}));const u=document.querySelector("[data-effect='slide-top-absolute']");u&&transformTop(u);const m=document.querySelectorAll('[data-effect="fade-down"]'),p=document.querySelectorAll('[data-effect="fade-in"]');m.forEach((e=>{fadeDown(e)})),p.forEach((e=>{fadeIn(e)}));document.querySelectorAll(".flip").forEach((e=>{flipAnim(e)}));const g=document.querySelector(".description-reality__content");ScrollTrigger.create({trigger:".description-reality",pinned:!0,start:"top top",end:"bottom bottom",onToggle:e=>{return t=g,void(e.isActive?(t.classList.add("show"),t.classList.remove("hide")):(t.classList.add("hide"),t.classList.remove("show")));var t}});Marquee3k.init(),gsap.utils.toArray(".hunger-games__map-point").forEach((e=>{e.dataset.delay=random(0,1).toFixed(2),opacityIn(e,".hunger-games__map")}));const h=document.querySelector(".mission__line");var f=document.querySelector(".mission__line_diagonally line");gsap.to(f,{strokeDashoffset:"400%",duration:1.2,scrollTrigger:{trigger:f}}),gsap.fromTo(h,{width:"0px"},{width:"100%",ease:"power1.inOut",scrollTrigger:{trigger:".mission"}});const y=document.querySelector(".reality__screens"),w=document.querySelector(".reality__screen_1"),_=document.querySelector(".reality__screen_3");gsap.fromTo(w,{x:"17.5vw",opacity:0},{x:0,opacity:1,duration:2,ease:"circ.out",scrollTrigger:{trigger:y,start:"center bottom"}}),gsap.fromTo(_,{x:"-17.5vw",opacity:0},{x:0,duration:2,opacity:1,ease:"circ.out",scrollTrigger:{trigger:y,start:"center bottom"}}),gsap.utils.toArray(".roadmap-item__line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".security__row-line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".team__row-line").forEach((e=>{leftToRight(e)})),gsap.fromTo(".roadmap__title",{scale:1.7},{scale:1,scrollTrigger:{trigger:".roadmap",start:"top bottom",end:"15% center",scrub:!0},ease:"none"});{const e=document.querySelectorAll(".vacancy__tabs-tab"),t=document.querySelectorAll(".vacancy__tabs-body"),o=()=>{e.forEach((e=>e.classList.remove("current")))},r=()=>{t.forEach((e=>e.classList.remove("show")))};e.forEach(((e,a)=>{e.addEventListener("click",(i=>{if(i.preventDefault(),e.closest(".current"))return;o(),e.classList.add("current");const s=document.querySelector(".vacancy__tabs-body.show"),n=t[a];hideElem(s),r(),n.classList.add("show"),showElem(n)}))})),gsap.utils.toArray(".vacancy__header-line").forEach((e=>{rightToLeft(e)}));const a=document.querySelector(".vacancy__header-line");leftToRight(a)}document.querySelectorAll(".question-item").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();t.target.closest(".question-item__header")&&e.classList.toggle("open")}))})),gsap.utils.toArray(".question-item__line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray('[data-effect="draw-line"]').forEach((e=>{leftToRight(e)}));document.querySelectorAll('[data-effect="fade-up"]').forEach((e=>{fadeUp(e)}));document.querySelectorAll('[data-effect="scaling"]').forEach((e=>{scaling(e)}));document.querySelector(".platform__btns");const v=e=>{e.style.width="120%",e.style.borderRadius="15.10vw"},S=e=>{e.style.width="80%"},T=e=>{e.style.width="100%"},A=()=>{T(q),T(L)},L=document.querySelector(".platform__btn_google"),q=document.querySelector(".platform__btn_apple");q.addEventListener("mouseenter",(()=>{v(q),S(L)})),L.addEventListener("mouseenter",(()=>{v(L),S(q)})),q.addEventListener("mouseleave",A),L.addEventListener("mouseleave",A),stepAdaptive(),circlesAdaptive()})();const e=new SineWaves({el:document.getElementById("waves"),speed:5,width:function(){return window.innerWidth},height:function(){return window.innerHeight},wavesWidth:"95%",ease:"SineInOut",waves:[{timeModifier:1,lineWidth:3,amplitude:150,wavelength:200,segmentLength:20},{timeModifier:1,lineWidth:2,amplitude:150,wavelength:100},{timeModifier:1,lineWidth:1,amplitude:-150,wavelength:50,segmentLength:10},{timeModifier:1,lineWidth:.5,amplitude:-100,wavelength:100,segmentLength:10}],initialize:function(){},resizeEvent:function(){var e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(0, 0, 0, 0)");for(var t=-1,o=this.waves.length;++t<o;)this.waves[t].strokeStyle=e;t=void 0,o=void 0,e=void 0}});window.addEventListener("resize",(()=>{stepAdaptive(),circlesAdaptive(),e.update()}))}));