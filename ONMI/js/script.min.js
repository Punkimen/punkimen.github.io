"use strict";import{sliderInit}from"./module/sliderInit.min.js";import{splitText}from"./module/splitText.min.js";import{setStyle}from"./module/setStyle.min.js";import{sectionHeightInit}from"./module/sectionHeightInit.min.js";import{animTextLine,drawSvgLine,fadeDown,fadeIn,fadeUp,hideElem,horizontalTransform,leftToRight,lineShow,opacityIn,readText,rightToLeft,scalingFoo,showElem,svgDraw,verticalTransform}from"./module/GSAPAnim.min.js";import{circlesAdaptive,stepAdaptive}from"./module/adaptiveResize.min.js";import{getPopulation}from"./module/getPopulation.min.js";document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.querySelector("#population"),t=document.querySelector("#video_phone"),r=document.querySelector("#video_trap"),o=document.querySelectorAll(".text-line"),n=document.querySelectorAll(".readed-text"),i=document.querySelector(".each-point"),a=document.querySelector(".mask"),l=document.querySelectorAll(".each-point__mark"),c=document.querySelectorAll('[data-effect="line"]'),s=document.querySelectorAll('[data-effect="opacity"]'),d=document.querySelector(".card_1 .card__front-aura"),u=document.querySelector(".card_3 .card__front-img"),m=document.querySelector(".card_2 .card__front-img"),p=document.querySelector(".card__front-img_bg"),v=document.querySelector(".omies__circles"),h=document.querySelector(".omies__circle_1"),f=document.querySelector(".omies__circle_3"),_=document.querySelectorAll('[data-effect="fade-down"]'),y=document.querySelectorAll('[data-effect="fade-in"]'),g=document.querySelector(".description-reality__content"),w=document.querySelector(".platform__btn_google"),S=document.querySelector(".platform__btn_apple"),q=document.querySelector(".mission__line"),E=document.querySelector(".mission__line_diagonally line"),L=document.querySelector(".reality__screens"),T=document.querySelector(".reality__screen_1"),b=document.querySelector(".reality__screen_3"),A=document.querySelectorAll(".question-item"),x=document.querySelectorAll('[data-effect="fade-up"]'),I=document.querySelectorAll(".line"),j=document.querySelector("#video-scroll"),z=document.querySelector(".journey-card__phone"),P=document.querySelector(".journey-card_2 .journey-card__omi"),D=document.querySelector(".journey-card_4 .card__front-img_bg"),W=document.querySelector(".security");gsap.registerPlugin(ScrollTrigger),verticalTransform(m,m,"-5%","5%",!0),verticalTransform(p,p,"-5%","5%",!0),verticalTransform(z,z,"5%","-10%",!0),verticalTransform(P,P,"-5%","5%",!0),verticalTransform(D,D,"-5%","5%",!0),verticalTransform(W,W,"-10%","5%",!0);gsap.timeline({defaults:{duration:1},scrollTrigger:{trigger:j,start:"top bottom",end:"bottom top",scrub:!0,onUpdate:e=>{const t=e.progress.toFixed(2),r=j.duration;j.currentTime=(r*t).toFixed(2)}}});ScrollTrigger.create({trigger:".description-reality",pinned:!0,start:"top top",end:"bottom bottom",onToggle:e=>{return t=g,void(e.isActive?(t.classList.add("show"),t.classList.remove("hide")):(t.classList.add("hide"),t.classList.remove("show")));var t}});const k=e=>{e.style.width="120%",e.style.borderRadius="15.10vw"},C=e=>{e.style.width="80%"},M=e=>{e.style.width="100%"},R=()=>{M(S),M(w)};{let e="0.52vw";const t=()=>{const t=window.innerWidth;e=t<=568?"11.52vw":"0.52vw"};window.addEventListener("resize",(()=>{t()})),t();const r={slidesPerView:"auto",spaceBetween:20,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:[`calc(100% + ${e})`,0,0]}},breakpoints:{568:{slidesPerView:"auto",spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},o=sliderInit(".adventure__phone"),n=sliderInit(".cards-slider__slider",r);n.controller.control=o;const i=()=>{const e=window.innerWidth;let t="7vw";e>992?t="8.8vw":e<768&&(t=0);const r=n.slides,o=r[r.length-1];n.activeIndex===r.length-1?(o.style.right=t,o.style.transotionDuration="600ms"):(o.style.right="0vw",o.style.transotionDuration="600ms")};n.on("slideChange",(function(){const e=document.querySelector(".adventure__phone-hand");i(),n.slides.length-1===n.activeIndex?e.classList.add("show"):e.classList.remove("show")}));sliderInit(".level-slider",{centeredSlides:!0,slidesPerView:"auto",loopPreventsSliding:!0,speed:800,loop:!0,navigation:{nextEl:".level-slider__arrow_next",prevEl:".level-slider__arrow_prev"}})}o.forEach((e=>{setStyle(e,e.dataset),animTextLine(e,e.parentElement)})),n.forEach((e=>{splitText(e);const t=e.querySelectorAll(".word");readText(t,e)})),drawSvgLine(a,i,l),horizontalTransform(h,v,"100%","33%"),horizontalTransform(f,v,"-100%","-43%"),scalingFoo(d,d,1,1.4,"top bottom+=25%","center top",!0),horizontalTransform(u,u,"-3%","3%"),c.forEach((e=>{lineShow(e)})),s.forEach((e=>{opacityIn(e)})),_.forEach((e=>{fadeDown(e)})),y.forEach((e=>{fadeIn(e)})),svgDraw(E,E,"400%"),leftToRight(q,".mission"),horizontalTransform(T,L,"17.5vw","0"),horizontalTransform(b,L,"-17.5vw","0"),I.forEach((e=>{leftToRight(e)})),scalingFoo(".roadmap__title",".roadmap",1.7,1,"top bottom","15% center",!0);{const e=document.querySelectorAll(".vacancy__tabs-tab"),t=document.querySelectorAll(".vacancy__tabs-body"),r=()=>{e.forEach((e=>e.classList.remove("current")))},o=()=>{t.forEach((e=>e.classList.remove("show")))};e.forEach(((e,n)=>{e.addEventListener("click",(i=>{if(i.preventDefault(),e.closest(".current"))return;r(),e.classList.add("current");const a=document.querySelector(".vacancy__tabs-body.show"),l=t[n];hideElem(a),o(),l.classList.add("show"),showElem(l)}))})),gsap.utils.toArray(".vacancy__header-line").forEach((e=>{rightToLeft(e)}));const n=document.querySelector(".vacancy__header-line");leftToRight(n)}A.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();t.target.closest(".question-item__header")&&e.classList.toggle("open")}))})),x.forEach((e=>{fadeUp(e)})),S.addEventListener("mouseenter",(()=>{k(S),C(w)})),w.addEventListener("mouseenter",(()=>{k(w),C(S)})),S.addEventListener("mouseleave",R),w.addEventListener("mouseleave",R),(async()=>{const t=JSON.parse(await getPopulation());e.textContent=t.readable_format||"8,323,444,222"})(),t?.play(),r?.play(),Marquee3k.init(),stepAdaptive(),circlesAdaptive(),sectionHeightInit()})();const e=new SineWaves({el:document.getElementById("waves"),speed:5,width:function(){return window.innerWidth},height:function(){return window.innerHeight},wavesWidth:"95%",ease:"SineInOut",waves:[{timeModifier:1,lineWidth:3,amplitude:150,wavelength:200,segmentLength:20},{timeModifier:1,lineWidth:2,amplitude:150,wavelength:100},{timeModifier:1,lineWidth:1,amplitude:-150,wavelength:50,segmentLength:10},{timeModifier:1,lineWidth:.5,amplitude:-100,wavelength:100,segmentLength:10}],initialize:function(){},resizeEvent:function(){var e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(0, 0, 0, 0)");for(var t=-1,r=this.waves.length;++t<r;)this.waves[t].strokeStyle=e;t=void 0,r=void 0,e=void 0}});window.addEventListener("resize",(()=>{stepAdaptive(),circlesAdaptive(),e.update()}))}));