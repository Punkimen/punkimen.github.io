"use strict";const swiper=new Swiper(".swiper",{speed:400,spaceBetween:15,slidesPerView:1,breakpoints:{990:{slidesPerView:2},1200:{slidesPerView:3,spaceBetween:15}},autoplay:{delay:3e3}}),headerMenu=document.querySelector(".header__nav-menu"),mobileMenu=document.querySelector(".mobile-menu"),mobileMenuContent=document.querySelector(".mobile-menu__top"),mobileMenuFooter=document.querySelector(".mobile-menu__top"),headerNav=document.querySelector(".header__nav"),adapiveMenu=()=>{const e=window.innerWidth;e<990&&!headerMenu.classList.contains("mob")?(mobileMenuContent.appendChild(headerMenu),headerMenu.classList.add("mob")):e>990&&headerMenu.classList.contains("mob")&&(headerNav.prepend(headerMenu),headerMenu.classList.remove("mob"))};adapiveMenu();const headerTop=document.querySelector(".header__top"),headerContent=document.querySelector(".header__content"),banner=document.querySelector(".header__banner"),changeBannePosition=()=>{const e=window.innerWidth;e<568&&!banner.classList.contains("full")?(headerTop.after(banner),banner.classList.add("full")):e>568&&banner.classList.contains("full")&&(headerContent.prepend(banner),banner.classList.remove("full"))};changeBannePosition();const burgerBtn=document.querySelector(".burger"),showMenu=()=>{mobileMenu.classList.add("show"),burgerBtn.classList.add("active")},hideMenu=()=>{mobileMenu.classList.remove("show"),burgerBtn.classList.remove("active")};burgerBtn.addEventListener("click",(e=>{mobileMenu.classList.contains("show")?(mobileMenu.classList.remove("show"),burgerBtn.classList.remove("active")):(mobileMenu.classList.add("show"),burgerBtn.classList.add("active"))}));const changeContent=()=>{const e=window.innerWidth,t=document.querySelector(".baskets__list"),n=document.querySelectorAll(".basket__link");e<568&&!t.classList.contains("mob")?(t.classList.add("mob"),n.forEach((e=>{e.querySelector(".basket__link-mob").prepend(e.querySelector(".count"))}))):e>568&&t.classList.contains("mob")&&(t.classList.remove("mob"),n.forEach((e=>{e.querySelector(".count-inner").prepend(e.querySelector(".count"))})))};changeContent();const menu=document.querySelector(".header-menu"),saleLinChanged=()=>{const e=window.innerWidth,t=document.querySelector(".header-menu__sale");e<568&&!t.classList.contains("mob")?(headerContent.after(t),t.classList.add("mob")):e>568&&t.classList.contains("mob")&&(menu.appendChild(t),t.classList.remove("mob"))};saleLinChanged(),window.addEventListener("resize",(e=>{adapiveMenu(),changeBannePosition(),changeContent(),saleLinChanged()}));const searchInput=document.querySelector(".header-menu__search-input"),searchBtn=document.querySelector("#search-btn"),showHideSearch=()=>{searchInput.classList.toggle("show")};searchBtn.addEventListener("click",(e=>{searchInput.classList.toggle("show")})),function(){const e=document.querySelector(".popups");function t(){const t=document.querySelectorAll(".popup");e.classList.remove("show"),t.forEach((e=>{e.classList.remove("show")}))}const n=document.querySelector(".info-city__selected"),o=document.querySelectorAll(".location-catalog__link");document.addEventListener("click",(s=>{if(s.preventDefault(),s.target.closest("[data-popup]")){const t=s.target.closest("[data-popup]").getAttribute("data-popup");a=t,e.classList.add("show"),document.querySelector(a).classList.add("show")}else if("popups__inner"===s.target.className||s.target.closest(".js-close-popup"))t();else{if(!s.target.closest(".location-catalog__link"))return!1;(e=>{o.forEach((e=>e.classList.remove("active"))),n.textContent=e.textContent,e.classList.add("active"),t()})(s.target)}var a}))}(),function(){const e=document.querySelector(".cart-catalog"),t=document.querySelector(".header__goods .swiper-wrapper"),n=document.querySelector("#goods-count"),o=document.querySelector("#summ"),s=[{id:1,name:"Товар 1",price:1e4,srcPhoto:"img/goods/goods_1.png"},{id:2,name:"Товар 2",price:5e3,srcPhoto:"img/goods/goods_2.png"},{id:3,name:"Товар 3",price:7e3,srcPhoto:"img/goods/goods_3.png"},{id:4,name:"Товар 4",price:4e3,srcPhoto:"img/goods/goods_1.png"},{id:5,name:"Товар 5",price:2e3,srcPhoto:"img/goods/goods_2.png"},{id:6,name:"Товар 6",price:1e3,srcPhoto:"img/goods/goods_3.png"}],a=()=>{let a=0;e.innerHTML="",t.innerHTML="",s.length>0?s.forEach((({id:n,name:o,price:s,srcPhoto:c})=>{const r=document.createElement("div"),i=document.createElement("div");r.className="cart-card",i.className="header__goods-item swiper-slide",i.setAttribute("data-popup","#cart"),r.innerHTML=`\n     \n        <div class="cart-card__img">\n          <img src="${c}" alt="${o}">\n        </div>\n        <div class="cart-card__content">\n          <div class="cart-card__name">${o}</div>\n          <div class="cart-card__price">${s} р</div>\n        </div>\n        <button data-id="${n}" class="cart-card__delete btn">Удалить</button>\n      \n      `,i.innerHTML=`<img src="${c}" alt="${o}">`,e.appendChild(r),t.appendChild(i),a+=s})):(e.innerHTML="Корзина пуста",t.innerHTML="Корзина пуста"),n.textContent=s.length,o.textContent=a};a();document.addEventListener("click",(e=>{if(e.preventDefault(),e.target.closest(".cart-card__delete")){(e=>{s.splice(s[e],1),a()})(e.target.getAttribute("data-id"))}}))}();