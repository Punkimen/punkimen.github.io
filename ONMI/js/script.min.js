"use strict";import{sliderInit}from"./module/sliderInit.js";import{splitText}from"./module/splitText.js";import{setStyle}from"./module/setStyle.js";import{sectionHeightInit}from"./module/sectionHeightInit.js";import{animTextLine,fadeDown,fadeIn,fadeUp,flipAnim,hideElem,leftToRight,lineShow,opacityIn,rightToLeft,scaling,showElem,transformTop}from"./module/GSAPAnim.js";import{random}from"./module/random.js";import{circlesAdaptive,stepAdaptive}from"./module/adaptiveResize.js";document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("vid").play();(()=>{const e=document.querySelectorAll("[data-delay]"),t=document.querySelectorAll("[data-duration]");document.querySelectorAll(".readed-text").forEach((e=>{splitText(e);const t=e.querySelectorAll(".word");gsap.to(t,{duration:2,ease:"none",opacity:1,stagger:.5,scrollTrigger:{trigger:e,start:"top bottom-=10%",end:"bottom center+=25%",scrub:!0}})}));for(let t of e)setStyle(t,t.dataset);for(let e of t)setStyle(e,e.dataset);{let e="0.52vw";const t=()=>{const t=window.innerWidth;e=t<=568?"11.52vw":"0.52vw"};window.addEventListener("resize",(()=>{t()})),t();const r={slidesPerView:"auto",spaceBetween:20,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:[`calc(100% + ${e})`,0,0]}},breakpoints:{568:{slidesPerView:"auto",spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},o=sliderInit(".adventure__phone"),a=sliderInit(".cards-slider__slider",r);a.controller.control=o;const i=()=>{const e=window.innerWidth;let t="7vw";e>992?t="8.8vw":e<768&&(t=0);const r=a.slides,o=r[r.length-1];a.activeIndex===r.length-1?(o.style.right=t,o.style.transotionDuration="600ms"):(o.style.right="0vw",o.style.transotionDuration="600ms")};a.on("slideChange",(function(){const e=document.querySelector(".adventure__phone-hand");i(),a.slides.length-1===a.activeIndex?e.classList.add("show"):e.classList.remove("show")}))}document.querySelectorAll(".animate-letters").forEach((e=>{splitText(e)}));document.querySelectorAll(".text-line").forEach((e=>{animTextLine(e,e.parentElement)}));document.querySelectorAll(".animate-text").forEach((e=>{splitText(e)}));document.querySelectorAll(".title-line").forEach((e=>{splitText(e)})),sectionHeightInit(),gsap.registerPlugin(ScrollTrigger,ScrollSmoother);const r=document.querySelectorAll('[data-effect="line"]'),o=document.querySelectorAll('[data-effect="opacity"]'),a=document.querySelector(".card_1 .card__front-aura"),i=document.querySelector(".card_3 .card__front-img"),n=document.querySelector(".card_2 .card__front-img"),s=document.querySelector(".journey-card_1 .journey-card__img");gsap.fromTo(a,{scale:1},{scale:1.4,duration:1,ease:"power2.inOut",scrollTrigger:{trigger:a,start:"top bottom+=25%",end:"center top",scrub:!0}}),gsap.fromTo(i,{x:"-3%"},{x:"3%",duration:1,ease:"power2.inOut",scrollTrigger:{trigger:i,start:"top bottom+=10%",end:"top top-=25%",scrub:!0}}),gsap.fromTo(n,{y:-100},{y:0,duration:1,ease:"power2.inOut",scrollTrigger:{trigger:n,start:"center bottom",end:"center top",scrub:!0}}),gsap.fromTo(s,{y:-100},{y:0,duration:1,ease:"power2.inOut",scrollTrigger:{trigger:s,start:"center bottom",end:"center top",scrub:!0}}),r.forEach((e=>{lineShow(e)})),o.forEach((e=>{opacityIn(e)}));const l=document.querySelectorAll(".find-map__point .map-point__circle"),c=document.querySelectorAll(".find-map__point .map-point__text");l.forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0},{opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".find-map",start:"top center"}})})),c.forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0,y:"80%"},{y:0,opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".find-map",start:"top center"}})}));document.querySelectorAll(".descover__map .map-point__circle").forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0},{opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".descover__map",start:"top top"}})}));const d=document.querySelector("[data-effect='slide-top-absolute']");d&&transformTop(d);const u=document.querySelectorAll('[data-effect="fade-down"]'),m=document.querySelectorAll('[data-effect="fade-in"]');u.forEach((e=>{fadeDown(e)})),m.forEach((e=>{fadeIn(e)}));document.querySelectorAll(".flip").forEach((e=>{flipAnim(e)}));const g=document.querySelector(".description-reality__content");ScrollTrigger.create({trigger:".description-reality",pinned:!0,start:"top top",end:"bottom bottom",onToggle:e=>{return t=g,void(e.isActive?(t.classList.add("show"),t.classList.remove("hide")):(t.classList.add("hide"),t.classList.remove("show")));var t}});gsap.fromTo(".pvp__title",{scale:1.7},{scale:1,scrollTrigger:{trigger:".pvp",start:"top bottom",end:"center-=35% center",scrub:!0},ease:"none"}),Marquee3k.init(),gsap.utils.toArray(".hunger-games__map-point").forEach((e=>{e.dataset.delay=random(0,1).toFixed(2),opacityIn(e,".hunger-games__map")}));const p=document.querySelector(".mission__line");var f=document.querySelector(".mission__line_diagonally line");gsap.to(f,{strokeDashoffset:"400%",duration:1.2,scrollTrigger:{trigger:f}}),gsap.fromTo(p,{width:"0px"},{width:"100%",ease:"power1.inOut",scrollTrigger:{trigger:".mission"}});const y=document.querySelector(".reality__screens"),h=document.querySelector(".reality__screen_1"),_=document.querySelector(".reality__screen_3");gsap.fromTo(h,{x:"17.5vw",opacity:0},{x:0,opacity:1,duration:2,ease:"circ.out",scrollTrigger:{trigger:y,start:"center bottom"}}),gsap.fromTo(_,{x:"-17.5vw",opacity:0},{x:0,duration:2,opacity:1,ease:"circ.out",scrollTrigger:{trigger:y,start:"center bottom"}}),gsap.utils.toArray(".roadmap-item__line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".security__row-line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".team__row-line").forEach((e=>{leftToRight(e)})),gsap.fromTo(".roadmap__title",{scale:1.7},{scale:1,scrollTrigger:{trigger:".roadmap",start:"top bottom",end:"15% center",scrub:!0},ease:"none"});{const e=document.querySelectorAll(".vacancy__tabs-tab"),t=document.querySelectorAll(".vacancy__tabs-body"),r=()=>{e.forEach((e=>e.classList.remove("current")))},o=()=>{t.forEach((e=>e.classList.remove("show")))};e.forEach(((e,a)=>{e.addEventListener("click",(i=>{if(i.preventDefault(),e.closest(".current"))return;r(),e.classList.add("current");const n=document.querySelector(".vacancy__tabs-body.show"),s=t[a];hideElem(n),o(),s.classList.add("show"),showElem(s)}))})),gsap.utils.toArray(".vacancy__header-line").forEach((e=>{rightToLeft(e)}));const a=document.querySelector(".vacancy__header-line");leftToRight(a)}document.querySelectorAll(".question-item").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();t.target.closest(".question-item__header")&&e.classList.toggle("open")}))})),gsap.utils.toArray(".question-item__line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray('[data-effect="draw-line"]').forEach((e=>{leftToRight(e)}));document.querySelectorAll('[data-effect="fade-up"]').forEach((e=>{fadeUp(e)}));document.querySelectorAll('[data-effect="scaling"]').forEach((e=>{scaling(e)}));document.querySelector(".platform__btns");const w=e=>{e.style.width="120%",e.style.borderRadius="15.10vw"},v=e=>{e.style.width="80%"},S=e=>{e.style.width="100%"},A=()=>{S(b),S(T)},T=document.querySelector(".platform__btn_google"),b=document.querySelector(".platform__btn_apple");b.addEventListener("mouseenter",(()=>{w(b),v(T)})),T.addEventListener("mouseenter",(()=>{w(T),v(b)})),b.addEventListener("mouseleave",A),T.addEventListener("mouseleave",A);document.querySelectorAll(".svg-circle circle");stepAdaptive(),circlesAdaptive()})();let e=0;const t=document.querySelector(".header__text"),r=new Rellax(".rellax",{center:!0});setTimeout((()=>{r.refresh()}),100);const o=new SineWaves({el:document.getElementById("waves"),speed:5,width:function(){return window.innerWidth},height:function(){return window.innerHeight},wavesWidth:"95%",ease:"SineInOut",waves:[{timeModifier:1,lineWidth:3,amplitude:150,wavelength:200,segmentLength:20},{timeModifier:1,lineWidth:2,amplitude:150,wavelength:100},{timeModifier:1,lineWidth:1,amplitude:-150,wavelength:50,segmentLength:10},{timeModifier:1,lineWidth:.5,amplitude:-100,wavelength:100,segmentLength:10}],initialize:function(){},resizeEvent:function(){var e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(0, 0, 0, 0)");for(var t=-1,r=this.waves.length;++t<r;)this.waves[t].strokeStyle=e;t=void 0,r=void 0,e=void 0}});window.addEventListener("resize",(()=>{stepAdaptive(),circlesAdaptive(),r.refresh(),o.update()})),window.addEventListener("scroll",(function(){let r=window.pageYOffset||document.documentElement.scrollTop;r>e&&e>window.innerHeight&&!t.classList.contains("hide")?t.classList.add("hide"):r<e&&t.classList.contains("hide")&&t.classList.remove("hide"),e=r<=0?0:r}),!1)}));