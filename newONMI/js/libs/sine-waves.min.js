/*!
 _______ _____ __   _ _______      _  _  _ _______ _    _ _______ _______
 |______   |   | \  | |______      |  |  | |_____|  \  /  |______ |______
 ______| __|__ |  \_| |______      |__|__| |     |   \/   |______ ______|
                                                                         
 sine-waves v0.3.0 <https://github.com/isuttell/sine-waves>
 Contributor(s): Isaac Suttell <isaac@isaacsuttell.com>
 Last Build: 2014-12-03
 Do not edit this file. It is created from the src/ folder.
*/
!function(t,i){"use strict";"function"==typeof define&&"object"==typeof define.amd?define([],(function(){return i()})):t.SineWaves=i()}(this,(function(){"use strict";Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var i=Array.prototype.slice.call(arguments,1),e=this,n=function(){},s=function(){return e.apply(this instanceof n&&t?this:t,i.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,s.prototype=new n,s});for(var t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),s=window.setTimeout((function(){t(i+n)}),n);return e=i+n,s}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var n=Math.PI/180,s=2*Math.PI,o=Math.PI/2,r={},h=r.isType=function(t,i){return{}.toString.call(t).toLowerCase()==="[object "+i.toLowerCase()+"]"},a=r.isFunction=function(t){return h(t,"function")},u=r.isString=function(t){return h(t,"string")},p=(r.isNumber=function(t){return h(t,"number")},r.shallowClone=function(t){var i={};for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}),c=(r.defaults=function(t,i){h(i,"object")||(i={});var e=p(t);for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e},r.degreesToRadians=function(t){if(!h(t,"number"))throw new TypeError("Degrees is not a number");return t*n},r.getFn=function(t,i,e){return a(i)?i:u(i)&&a(t[i.toLowerCase()])?t[i.toLowerCase()]:t[e]},{linear:function(t,i){return i},sinein:function(t,i){return i*(Math.sin(t*Math.PI-o)+1)*.5},sineout:function(t,i){return i*(Math.sin(t*Math.PI+o)+1)*.5},sineinout:function(t,i){return i*(Math.sin(t*s-o)+1)*.5}}),d={};function l(t){if(this.options=r.defaults(this.options,t),this.el=this.options.el,delete this.options.el,!this.el)throw"No Canvas Selected";if(this.ctx=this.el.getContext("2d"),this.waves=this.options.waves,delete this.options.waves,!this.waves||!this.waves.length)throw"No waves specified";this.dpr=window.devicePixelRatio||1,this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this)),this.setupUserFunctions(),this.easeFn=r.getFn(c,this.options.ease,"linear"),this.rotation=r.degreesToRadians(this.options.rotate),r.isType(this.options.running,"boolean")&&(this.running=this.options.running),this.setupWaveFns(),this.loop()}d.sine=function(t){return Math.sin(t)},d.sin=d.sine,d.sign=function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},d.square=function(t){return d.sign(Math.sin(t*s))},d.sawtooth=function(t){return 2*(t-Math.floor(t+.5))},d.triangle=function(t){return Math.abs(d.sawtooth(t))},l.prototype.options={speed:10,rotate:0,ease:"Linear",wavesWidth:"95%"},l.prototype.setupWaveFns=function(){for(var t=-1,i=this.waves.length;++t<i;)this.waves[t].waveFn=r.getFn(d,this.waves[t].type,"sine")},l.prototype.setupUserFunctions=function(){r.isFunction(this.options.resizeEvent)&&(this.options.resizeEvent.call(this),window.addEventListener("resize",this.options.resizeEvent.bind(this))),r.isFunction(this.options.initialize)&&this.options.initialize.call(this)};var w={timeModifier:1,amplitude:50,wavelength:50,segmentLength:10,lineWidth:1,strokeStyle:"rgba(255, 255, 255, 0.2)",type:"Sine"};return l.prototype.getDimension=function(t){return r.isNumber(this.options[t])?this.options[t]:r.isFunction(this.options[t])?this.options[t].call(this,this.el):"width"===t?this.el.clientWidth:"height"===t?this.el.clientHeight:void 0},l.prototype.updateDimensions=function(){var t=this.getDimension("width"),i=this.getDimension("height");this.width=this.el.width=t*this.dpr,this.height=this.el.height=i*this.dpr,this.el.style.width=t+"px",this.el.style.height=i+"px",this.waveWidth=function(t,i){return r.isType(t,"number")?t:(t=t.toString()).indexOf("%")>-1?((t=parseFloat(t))>1&&(t/=100),i*t):t.indexOf("px")>-1?parseInt(t,10):void 0}(this.options.wavesWidth,this.width),this.waveLeft=(this.width-this.waveWidth)/2,this.yAxis=this.height/2},l.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},l.prototype.time=0,l.prototype.update=function(t){this.time=this.time-.007,void 0===t&&(t=this.time);var i=-1,e=this.waves.length;for(this.clear(),this.ctx.save(),this.rotation>0&&(this.ctx.translate(this.width/2,this.height/2),this.ctx.rotate(this.rotation),this.ctx.translate(-this.width/2,-this.height/2));++i<e;){var n=this.waves[i].timeModifier||1;this.drawWave(t*n,this.waves[i])}this.ctx.restore(),i=void 0,e=void 0},l.prototype.getPoint=function(t,i,e){var n=t*this.options.speed+(-this.yAxis+i)/e.wavelength,s=e.waveFn.call(this,n,d),o=this.easeFn.call(this,i/this.waveWidth,e.amplitude);return{x:n=i+this.waveLeft,y:s=o*s+this.yAxis}},l.prototype.drawWave=function(t,i){var e,n;for(i=r.defaults(w,i),this.ctx.lineWidth=i.lineWidth*this.dpr,this.ctx.strokeStyle=i.strokeStyle,this.ctx.lineCap="butt",this.ctx.lineJoin="round",this.ctx.beginPath(),this.ctx.moveTo(0,this.yAxis),this.ctx.lineTo(this.waveLeft,this.yAxis),e=0;e<this.waveWidth;e+=i.segmentLength)n=this.getPoint(t,e,i),this.ctx.lineTo(n.x,n.y),n=void 0;e=void 0,i=void 0,this.ctx.lineTo(this.width,this.yAxis),this.ctx.stroke()},l.prototype.running=!0,l.prototype.loop=function(){!0===this.running&&this.update(),window.requestAnimationFrame(this.loop.bind(this))},l.prototype.Waves=d,l.prototype.Ease=c,l}));