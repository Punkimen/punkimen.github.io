"use strict";import{sliderInit}from"./module/sliderInit.js";import{splitText}from"./module/splitText.js";import{setStyle}from"./module/setStyle.js";import{sectionHeightInit}from"./module/sectionHeightInit.js";import{circleDraw,fadeDown,fadeIn,fadeUp,flipAnim,hideElem,leftToRight,lineShow,opacityIn,rightToLeft,scaling,scalingPositive,showElem,transformTop}from"./module/GSAPAnim.js";import{CalcStats}from"./module/calcScore.js";import{random}from"./module/random.js";import{circlesAdaptive,stepAdaptive}from"./module/adaptiveResize.js";document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.querySelectorAll("[data-delay]"),t=document.querySelectorAll("[data-duration]");for(let t of e)setStyle(t,t.dataset);for(let e of t)setStyle(e,e.dataset);{let e="0.52vw";const t=()=>{const t=window.innerWidth;e=t<=568?"11.52vw":"0.52vw"};window.addEventListener("resize",(()=>{t()})),t();const r={slidesPerView:"auto",spaceBetween:20,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:[`calc(100% + ${e})`,0,0]}},breakpoints:{568:{slidesPerView:"auto",spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},o=sliderInit(".adventure__phone"),a=sliderInit(".cards-slider__slider",r);a.controller.control=o;const i=()=>{const e=window.innerWidth;let t="7vw";e>992?t="8.8vw":e<768&&(t=0);const r=a.slides,o=r[r.length-1];a.activeIndex===r.length-1?(o.style.right=t,o.style.transotionDuration="600ms"):(o.style.right="0vw",o.style.transotionDuration="600ms")};a.on("slideChange",(function(){i()}))}document.querySelectorAll(".animate-letters").forEach((e=>{splitText(e)}));document.querySelectorAll(".animate-text").forEach((e=>{splitText(e)}));document.querySelectorAll(".title-line").forEach((e=>{splitText(e)})),sectionHeightInit(),gsap.registerPlugin(ScrollTrigger,ScrollSmoother);const r=document.querySelectorAll('[data-effect="line"]'),o=document.querySelectorAll('[data-effect="opacity"]');r.forEach((e=>{lineShow(e)})),o.forEach((e=>{opacityIn(e)}));const a=document.querySelectorAll(".find-map__point .map-point__circle"),i=document.querySelectorAll(".find-map__point .map-point__text");a.forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0},{opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".find-map",start:"top center"}})})),i.forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0,y:"80%"},{y:0,opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".find-map",start:"top center"}})}));document.querySelectorAll(".descover__map .map-point__circle").forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0},{opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".descover__map",start:"top top"}})}));const l=document.querySelector("[data-effect='slide-top-absolute']");l&&transformTop(l);const n=document.querySelectorAll('[data-effect="fade-down"]'),s=document.querySelectorAll('[data-effect="fade-in"]');n.forEach((e=>{fadeDown(e)})),s.forEach((e=>{fadeIn(e)}));document.querySelectorAll(".flip").forEach((e=>{flipAnim(e)}));const c=document.querySelector(".description-reality__content"),d=(e,t)=>{e.style.opacity=t?1:0},u=document.querySelector(".description-reality__text_first"),p=document.querySelector(".description-reality__text_second");ScrollTrigger.create({trigger:".description-reality",pinned:!0,start:"top top",end:"bottom bottom",marker:!0,onToggle:e=>d(c,e.isActive),onUpdate:e=>{((e,t,r)=>{r>=0&&r<=.5?(d(e,!0),d(t,!1)):r>=.4&&r<=1&&(d(e,!1),d(t,!0))})(u,p,e.progress.toFixed(3))}});gsap.fromTo(".pvp__title",{scale:1.7},{scale:1,scrollTrigger:{trigger:".pvp",start:"top center",end:"center+=5.21vw center",scrub:!0},ease:"none"}),Marquee3k.init(),gsap.utils.toArray(".hunger-games__map-point").forEach((e=>{e.dataset.delay=random(0,1).toFixed(2),opacityIn(e,".hunger-games__map")}));const m=document.querySelector(".mission__line");var g=document.querySelector(".mission__line_diagonally line");gsap.to(g,{strokeDashoffset:"400%",duration:1.2,scrollTrigger:{trigger:g}}),gsap.fromTo(m,{width:"0px"},{width:"100%",ease:"power1.inOut",scrollTrigger:{trigger:".mission"}}),gsap.utils.toArray(".roadmap-item__line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".security__row-line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".team__row-line").forEach((e=>{leftToRight(e)})),gsap.fromTo(".roadmap__title",{scale:1.7},{scale:1,scrollTrigger:{trigger:".roadmap",start:"top bottom",end:"15% center",scrub:!0},ease:"none"});{const e=document.querySelectorAll(".vacancy__tabs-tab"),t=document.querySelectorAll(".vacancy__tabs-body"),r=()=>{e.forEach((e=>e.classList.remove("current")))},o=()=>{t.forEach((e=>e.classList.remove("show")))};e.forEach(((e,a)=>{e.addEventListener("click",(i=>{if(i.preventDefault(),e.closest(".current"))return;r(),e.classList.add("current");const l=document.querySelector(".vacancy__tabs-body.show"),n=t[a];hideElem(l),o(),n.classList.add("show"),showElem(n)}))})),gsap.utils.toArray(".vacancy__header-line").forEach((e=>{rightToLeft(e)}));const a=document.querySelector(".vacancy__header-line");leftToRight(a)}document.querySelectorAll(".question-item").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();t.target.closest(".question-item__header")&&e.classList.toggle("open")}))})),gsap.utils.toArray(".question-item__line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray('[data-effect="draw-line"]').forEach((e=>{leftToRight(e)}));document.querySelectorAll('[data-effect="fade-up"]').forEach((e=>{fadeUp(e)}));document.querySelectorAll('[data-effect="scaling"]').forEach((e=>{scaling(e)}));document.querySelector(".platform__btns");const f=e=>{e.style.width="120%",e.style.borderRadius="15.10vw"},y=e=>{e.style.width="80%"},h=e=>{e.style.width="100%"},_=()=>{h(w),h(v)},v=document.querySelector(".platform__btn_google"),w=document.querySelector(".platform__btn_apple");w.addEventListener("mouseenter",(()=>{f(w),y(v)})),v.addEventListener("mouseenter",(()=>{f(v),y(w)})),w.addEventListener("mouseleave",_),v.addEventListener("mouseleave",_);const A=document.querySelectorAll(".svg-circle circle"),S=document.querySelector(".token");A.forEach((e=>{circleDraw(e,S)})),stepAdaptive(),circlesAdaptive()})()})),window.addEventListener("resize",(()=>{stepAdaptive(),circlesAdaptive()}));var waves=new SineWaves({el:document.getElementById("waves"),speed:5,rotate:0,ease:"Linear",waveWidth:"95%",waves:[{timeModifier:1,lineWidth:3,amplitude:150,wavelength:200,segmentLength:20},{timeModifier:1,lineWidth:2,amplitude:150,wavelength:100},{timeModifier:1,lineWidth:1,amplitude:-150,wavelength:50,segmentLength:10},{timeModifier:1,lineWidth:.5,amplitude:-100,wavelength:100,segmentLength:10}],initialize:function(){},resizeEvent:function(){var e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(0, 0, 0, 0)");for(var t=-1,r=this.waves.length;++t<r;)this.waves[t].strokeStyle=e}});