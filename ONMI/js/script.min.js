"use strict";import{sliderInit}from"./module/sliderInit.js";import{observerScroll}from"./module/scrollTrigerAnimation.js";import{splitText}from"./module/splitText.js";import{setStyle}from"./module/setStyle.js";import{sectionHeightInit}from"./module/sectionHeightInit.js";import{parallaxInit}from"./module/parallax.js";import{scalingPositive}from"./module/GSAPAnim.js";import{CalcStats}from"./module/calcScore.js";window.onload=function(){(()=>{const t=document.querySelectorAll(".animate"),e=document.querySelectorAll("[data-delay]"),o=document.querySelectorAll("[data-duration]");for(let t of e)setStyle(t,t.dataset);for(let t of o)setStyle(t,t.dataset);for(let e of t)observerScroll.observe(e);{const t={slidesPerView:"auto",spaceBetween:10,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:["calc(100% + 10px)",0,0]}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},e=sliderInit(".adventure__phone"),o=sliderInit(".cards-slider__slider",t);o.controller.control=e,console.log(o);const l=()=>{const t=o.slides,e=t[t.length-1];o.activeIndex===t.length-1?(e.style.right="9.7vw",e.style.transotionDuration="600ms"):(e.style.right="0vw",e.style.transotionDuration="600ms")};o.on("slideChange",(function(){l()}));const s=sliderInit(".create-omi__slider",{slidesPerView:5,centeredSlides:!0,loop:!0,allowTouchMove:!1,navigation:{nextEl:".create-omi__btn_next",prevEl:".create-omi__btn"}}),n=()=>{const t=s.slides,e=s.activeIndex;t[e].style.opacity=1;const o=o=>{let l=[];return l.push(t[e-o]),l.push(t[e+o]),l},l=o(1),n=o(2);l.forEach((t=>{t.style.opacity=.3})),n.forEach((t=>{t.style.opacity=.15}))};s.on("slideChange",(function(){n()})),n()}document.querySelectorAll(".animate-letters").forEach((t=>{splitText(t)}));document.querySelectorAll(".animate-text").forEach((t=>{splitText(t)}));document.querySelectorAll(".title-line").forEach((t=>{splitText(t)})),sectionHeightInit(),parallaxInit();const l=document.querySelector(".omi-card__handle"),s=document.querySelector("#unallocated-points");const n=new CalcStats(12,10,23.4,2.1,2.1,56);n.render(),console.log(n.setStat()),l.addEventListener("click",(async t=>{const e=t.target,o=e.closest(".omi-card__point-btn");if(o){const t=document.createElement("span");t.className="scalingBlock",t.setAttribute("data-id",1),s.append(t),await scalingPositive(".scalingBlock"),t.remove();const l=o.getAttribute("data-stat");e.classList.contains("btn-plus")?n.statPlus(l):e.classList.contains("btn-minus")&&n.statMinus(l)}}))})()};