"use strict";import{sliderInit}from"./module/sliderInit.js";import{splitText}from"./module/splitText.js";import{setStyle}from"./module/setStyle.js";import{sectionHeightInit}from"./module/sectionHeightInit.js";import{animTextLine,fadeDown,fadeIn,fadeUp,flipAnim,hideElem,leftToRight,lineShow,opacityIn,rightToLeft,scaling,showElem,transformTop}from"./module/GSAPAnim.js";import{random}from"./module/random.js";import{circlesAdaptive,stepAdaptive}from"./module/adaptiveResize.js";document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("vid").play();(()=>{document.querySelectorAll(".readed-text").forEach((e=>{splitText(e);const t=e.querySelectorAll(".word");gsap.to(t,{duration:2,ease:"none",opacity:1,stagger:.5,scrollTrigger:{trigger:e,start:"top bottom-=10%",end:"bottom center+=25%",scrub:!0}})}));{let e="0.52vw";const t=()=>{const t=window.innerWidth;e=t<=568?"11.52vw":"0.52vw"};window.addEventListener("resize",(()=>{t()})),t();const r={slidesPerView:"auto",spaceBetween:20,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:[`calc(100% + ${e})`,0,0]}},breakpoints:{568:{slidesPerView:"auto",spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},o=sliderInit(".adventure__phone"),a=sliderInit(".cards-slider__slider",r);a.controller.control=o;const i=()=>{const e=window.innerWidth;let t="7vw";e>992?t="8.8vw":e<768&&(t=0);const r=a.slides,o=r[r.length-1];a.activeIndex===r.length-1?(o.style.right=t,o.style.transotionDuration="600ms"):(o.style.right="0vw",o.style.transotionDuration="600ms")};a.on("slideChange",(function(){const e=document.querySelector(".adventure__phone-hand");i(),a.slides.length-1===a.activeIndex?e.classList.add("show"):e.classList.remove("show")}))}document.querySelectorAll(".text-line").forEach((e=>{setStyle(e,e.dataset),animTextLine(e,e.parentElement)})),sectionHeightInit(),gsap.registerPlugin(ScrollTrigger,ScrollSmoother),1!==ScrollTrigger.isTouch&&ScrollSmoother.create({smooth:1.3,effects:!0,smoothTouch:.3});const e=document.querySelectorAll('[data-effect="line"]'),t=document.querySelectorAll('[data-effect="opacity"]'),r=document.querySelector(".card_1 .card__front-aura"),o=document.querySelector(".card_3 .card__front-img"),a=document.querySelector(".card_2 .card__front-img"),i=document.querySelector(".journey-card_1 .journey-card__img");gsap.fromTo(r,{scale:1},{scale:1.4,duration:1,ease:"power2.inOut",scrollTrigger:{trigger:r,start:"top bottom+=25%",end:"center top",scrub:!0}}),gsap.fromTo(o,{x:"-3%"},{x:"3%",duration:1,ease:"power2.inOut",scrollTrigger:{trigger:o,start:"top bottom+=10%",end:"top top-=25%",scrub:!0}}),gsap.fromTo(a,{y:-100},{y:0,duration:1,ease:"power2.inOut",scrollTrigger:{trigger:a,start:"center bottom",end:"center top",scrub:!0}}),gsap.fromTo(i,{y:-100},{y:0,duration:1,ease:"power2.inOut",scrollTrigger:{trigger:i,start:"center bottom",end:"center top",scrub:!0}}),e.forEach((e=>{lineShow(e)})),t.forEach((e=>{opacityIn(e)}));const n=document.querySelectorAll(".find-map__point .map-point__circle"),s=document.querySelectorAll(".find-map__point .map-point__text");n.forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0},{opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".find-map",start:"top center"}})})),s.forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0,y:"80%"},{y:0,opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".find-map",start:"top center"}})}));document.querySelectorAll(".descover__map .map-point__circle").forEach((e=>{const t=e.getAttribute("data-delay")?e.getAttribute("data-delay"):0,r=e.getAttribute("data-duration")?e.getAttribute("data-duration"):1.2;gsap.fromTo(e,{opacity:0},{opacity:1,delay:t,duration:r,ease:"power1.inOut",scrollTrigger:{trigger:".descover__map",start:"top top"}})}));const c=document.querySelector("[data-effect='slide-top-absolute']");c&&transformTop(c);const l=document.querySelectorAll('[data-effect="fade-down"]'),d=document.querySelectorAll('[data-effect="fade-in"]');l.forEach((e=>{fadeDown(e)})),d.forEach((e=>{fadeIn(e)}));document.querySelectorAll(".flip").forEach((e=>{flipAnim(e)}));const u=document.querySelector(".description-reality__content");ScrollTrigger.create({trigger:".description-reality",pinned:!0,start:"top top",end:"bottom bottom",onToggle:e=>{return t=u,void(e.isActive?(t.classList.add("show"),t.classList.remove("hide")):(t.classList.add("hide"),t.classList.remove("show")));var t}});gsap.fromTo(".pvp__title",{scale:1.7},{scale:1,scrollTrigger:{trigger:".pvp",start:"top bottom",end:"center-=35% center",scrub:!0},ease:"none"}),Marquee3k.init(),gsap.utils.toArray(".hunger-games__map-point").forEach((e=>{e.dataset.delay=random(0,1).toFixed(2),opacityIn(e,".hunger-games__map")}));const g=document.querySelector(".mission__line");var m=document.querySelector(".mission__line_diagonally line");gsap.to(m,{strokeDashoffset:"400%",duration:1.2,scrollTrigger:{trigger:m}}),gsap.fromTo(g,{width:"0px"},{width:"100%",ease:"power1.inOut",scrollTrigger:{trigger:".mission"}});const p=document.querySelector(".reality__screens"),f=document.querySelector(".reality__screen_1"),h=document.querySelector(".reality__screen_3");gsap.fromTo(f,{x:"17.5vw",opacity:0},{x:0,opacity:1,duration:2,ease:"circ.out",scrollTrigger:{trigger:p,start:"center bottom"}}),gsap.fromTo(h,{x:"-17.5vw",opacity:0},{x:0,duration:2,opacity:1,ease:"circ.out",scrollTrigger:{trigger:p,start:"center bottom"}}),gsap.utils.toArray(".roadmap-item__line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".security__row-line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray(".team__row-line").forEach((e=>{leftToRight(e)})),gsap.fromTo(".roadmap__title",{scale:1.7},{scale:1,scrollTrigger:{trigger:".roadmap",start:"top bottom",end:"15% center",scrub:!0},ease:"none"});{const e=document.querySelectorAll(".vacancy__tabs-tab"),t=document.querySelectorAll(".vacancy__tabs-body"),r=()=>{e.forEach((e=>e.classList.remove("current")))},o=()=>{t.forEach((e=>e.classList.remove("show")))};e.forEach(((e,a)=>{e.addEventListener("click",(i=>{if(i.preventDefault(),e.closest(".current"))return;r(),e.classList.add("current");const n=document.querySelector(".vacancy__tabs-body.show"),s=t[a];hideElem(n),o(),s.classList.add("show"),showElem(s)}))})),gsap.utils.toArray(".vacancy__header-line").forEach((e=>{rightToLeft(e)}));const a=document.querySelector(".vacancy__header-line");leftToRight(a)}document.querySelectorAll(".question-item").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();t.target.closest(".question-item__header")&&e.classList.toggle("open")}))})),gsap.utils.toArray(".question-item__line").forEach((e=>{leftToRight(e)})),gsap.utils.toArray('[data-effect="draw-line"]').forEach((e=>{leftToRight(e)}));document.querySelectorAll('[data-effect="fade-up"]').forEach((e=>{fadeUp(e)}));document.querySelectorAll('[data-effect="scaling"]').forEach((e=>{scaling(e)}));document.querySelector(".platform__btns");const y=e=>{e.style.width="120%",e.style.borderRadius="15.10vw"},_=e=>{e.style.width="80%"},v=e=>{e.style.width="100%"},w=()=>{v(T),v(S)},S=document.querySelector(".platform__btn_google"),T=document.querySelector(".platform__btn_apple");T.addEventListener("mouseenter",(()=>{y(T),_(S)})),S.addEventListener("mouseenter",(()=>{y(S),_(T)})),T.addEventListener("mouseleave",w),S.addEventListener("mouseleave",w);document.querySelectorAll(".svg-circle circle");stepAdaptive(),circlesAdaptive()})();let e=0;const t=document.querySelector(".header__text"),r=new SineWaves({el:document.getElementById("waves"),speed:5,width:function(){return window.innerWidth},height:function(){return window.innerHeight},wavesWidth:"95%",ease:"SineInOut",waves:[{timeModifier:1,lineWidth:3,amplitude:150,wavelength:200,segmentLength:20},{timeModifier:1,lineWidth:2,amplitude:150,wavelength:100},{timeModifier:1,lineWidth:1,amplitude:-150,wavelength:50,segmentLength:10},{timeModifier:1,lineWidth:.5,amplitude:-100,wavelength:100,segmentLength:10}],initialize:function(){},resizeEvent:function(){var e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(0, 0, 0, 0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(0, 0, 0, 0)");for(var t=-1,r=this.waves.length;++t<r;)this.waves[t].strokeStyle=e;t=void 0,r=void 0,e=void 0}});window.addEventListener("resize",(()=>{stepAdaptive(),circlesAdaptive(),r.update()})),window.addEventListener("scroll",(function(){let r=window.pageYOffset||document.documentElement.scrollTop;r>e&&e>window.innerHeight&&!t.classList.contains("hide")?t.classList.add("hide"):r<e&&t.classList.contains("hide")&&t.classList.remove("hide"),e=r<=0?0:r}),!1)}));