"use strict";import{sliderInit}from"./module/sliderInit.js";import{observerScroll}from"./module/scrollTrigerAnimation.js";import{splitText}from"./module/splitText.js";import{setStyle}from"./module/setStyle.js";import{sectionHeightInit}from"./module/sectionHeightInit.js";import{parallaxInit}from"./module/parallax.js";import{scalingPositive}from"./module/GSAPAnim.js";window.onload=function(){(()=>{const e=document.querySelectorAll(".animate"),t=document.querySelectorAll("[data-delay]"),o=document.querySelectorAll("[data-duration]");for(let e of t)setStyle(e,e.dataset);for(let e of o)setStyle(e,e.dataset);for(let t of e)observerScroll.observe(t);{const e={slidesPerView:"auto",spaceBetween:10,grabCursor:!0,speed:600,effect:"creative",parallax:!0,creativeEffect:{limitProgress:2,prev:{shadow:!0,translate:[0,0,-400],scale:[0],opacity:0},next:{translate:["calc(100% + 10px)",0,0]}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},t=sliderInit(".adventure__phone"),o=sliderInit(".cards-slider__slider",e);o.controller.control=t,console.log(o);const l=()=>{const e=o.slides,t=e[e.length-1];o.activeIndex===e.length-1?(t.style.right="9.7vw",t.style.transotionDuration="600ms"):(t.style.right="0vw",t.style.transotionDuration="600ms")};o.on("slideChange",(function(){l()}));const i=sliderInit(".create-omi__slider",{slidesPerView:5,centeredSlides:!0,loop:!0,allowTouchMove:!1,navigation:{nextEl:".create-omi__btn_next",prevEl:".create-omi__btn"}}),s=()=>{const e=i.slides,t=i.activeIndex;e[t].style.opacity=1;const o=o=>{let l=[];return l.push(e[t-o]),l.push(e[t+o]),l},l=o(1),s=o(2);l.forEach((e=>{e.style.opacity=.3})),s.forEach((e=>{e.style.opacity=.15}))};i.on("slideChange",(function(){s()})),s()}document.querySelectorAll(".animate-letters").forEach((e=>{splitText(e)}));document.querySelectorAll(".animate-text").forEach((e=>{splitText(e)}));document.querySelectorAll(".title-line").forEach((e=>{splitText(e)})),sectionHeightInit(),parallaxInit();const l=document.querySelector(".omi-card__handle"),i=document.querySelector("#unallocated-points");l.addEventListener("click",(async e=>{const t=e.target;if(t.classList.contains("omi-card__point-btn")){const e=document.createElement("span");e.className="scalingBlock",e.setAttribute("data-id",1),i.append(e),console.log(t),t.classList.add("disabled"),await scalingPositive(".scalingBlock"),await t.classList.remove("disabled"),e.remove()}}))})()};